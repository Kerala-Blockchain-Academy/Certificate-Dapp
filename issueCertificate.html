<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Issue New Certificate</title>
  <script src="javascripts/jquery.min.js"></script>

  <link rel="stylesheet" href="stylesheets/normalize.min.css">
  <link rel='stylesheet' href='stylesheets/bootstrap.min.css'>
  <link rel='stylesheet' href='stylesheets/style.css' />
  <link rel='stylesheet' href='stylesheets/issueStyle.css' />

  <script src="javascripts/web3.min.js"></script>
  <script src="javascripts/app.js"></script>

    <script>
    function issueCertificate() {
      certificateID = document.getElementById("certificateID").value;
      courseName = document.getElementById("courseName").value;
      candidateName = document.getElementById("candidateName").value;
      grade = document.getElementById("grade").value;
      date = document.getElementById("date").value;
      
      myContract.methods.newCertificate(certificateID, courseName, candidateName, grade, date)
        .send({ from: ethereum.selectedAddress, gasLimit: "927000" }).then((txn) => {
          console.log("Transaction Recipt: ", txn);
          alert("Certificate Issue with Number: " + certificateID);
        })
    }
  </script>

</head>

<body>

  <div class="header">
    <a href="#default" class="logo">Certificate Dapp</a>
    <div class="header-right">
      <a href="index.html">Home</a>
      <a class="active" href="issueCertificate.html">Issue Certificate</a>
    </div>
  </div>

  <br />
  <div class="entry-form">
    <h3>Issue New Certificate</h3>
    <div class="form-group">
      <label for="courseName">Select Course *</label>
      <select class="form-control" name="courseName" id="courseName">
        <option>M.Sc. in Blockchain Technologies</option>
        <option>B.Sc. in Blockchain Technologies</option>
      </select>
    </div>

    <div class="form-group">
      <label for="certificateID">Certificate ID *</label>
      <input type="text" class="form-control" name="certificateID" id="certificateID" placeholder="Certificate ID"
        required>
    </div>
    <div class="form-group">
      <label for="candidateName">Candidate name *</label>
      <input type="text" class="form-control" name="candidateName" id="candidateName" placeholder="Name" required>
    </div>
    <div class="form-group">
      <label for="grade">Select Grade *</label>
      <select class="form-control" id="grade" name="grade" id="grade">
        <option>S</option>
        <option>A</option>
        <option>B</option>
        <option>C</option>
      </select>
    </div>
    <div class="form-group">
      <label for="date">Issue Date *</label>
      <input type="date" class="form-control" id="date" name="date" required>
    </div>

    <button onclick="issueCertificate()" class="btn btn-info">Issue Certificate</button>
  </div>

</body>

</html>
